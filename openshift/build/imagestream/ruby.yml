apiVersion: template.openshift.io/v1
kind: Template

parameters:
  - description: Prefix to prepend to object name.
    displayName: Prefix
    name: PREFIX
    required: true
  - description: Name of Ruby image to be used.
    displayName: Name of Ruby Image
    name: RUBY_IMAGE
    required: true
    value: "registry.access.redhat.com/ubi8/ruby-26"
  - description: Build of Ruby image to be used.
    displayName: Build of Ruby Image
    name: RUBY_BUILD
    required: true
    value: "1-13.1573664574"
  - description: Version of Ruby image to be used.
    displayName: Version of Ruby Image
    name: RUBY_VERSION
    required: true
    value: "2.6.3"

objects:
  - apiVersion: image.openshift.io/v1
    kind: ImageStream
    metadata:
      name: ${PREFIX}ruby
    spec:
      lookupPolicy:
        local: true
      tags:
        - from:
            kind: DockerImage
            name: ${RUBY_IMAGE}:${RUBY_BUILD}
          name: ${RUBY_VERSION}
